var REG;!function(r,n){if("function"==typeof define&&define.amd)define(["module"],n);else if("undefined"!=typeof exports)n(module);else{var e={exports:{}};n(e),r.REG=e.exports}}(this,(function(r){"use strict";var n=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r};function e(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return Array.from(r)}var t={order:2,precision:2,period:null};function o(r,n){var e=[],t=[];r.forEach((function(r,o){null!==r[1]&&(t.push(r),e.push(n[o]))}));var o=t.reduce((function(r,n){return r+n[1]}),0)/t.length,i=t.reduce((function(r,n){var e=n[1]-o;return r+e*e}),0);return 1-t.reduce((function(r,n,t){var o=e[t],i=n[1]-o[1];return r+i*i}),0)/i}function i(r,n){var e=Math.pow(10,n);return Math.round(r*e)/e}var u={linear:function(r,n){for(var e=[0,0,0,0,0],t=0,u=0;u<r.length;u++)null!==r[u][1]&&(t++,e[0]+=r[u][0],e[1]+=r[u][1],e[2]+=r[u][0]*r[u][0],e[3]+=r[u][0]*r[u][1],e[4]+=r[u][1]*r[u][1]);var a=t*e[2]-e[0]*e[0],c=t*e[3]-e[0]*e[1],p=0===a?0:i(c/a,n.precision),f=i(e[1]/t-p*e[0]/t,n.precision),s=function(r){return[i(r,n.precision),i(p*r+f,n.precision)]},l=r.map((function(r){return s(r[0])}));return{points:l,predict:s,equation:[p,f],r2:i(o(r,l),n.precision),string:0===f?"y = "+p+"x":"y = "+p+"x + "+f}},exponential:function(r,n){for(var e=[0,0,0,0,0,0],t=0;t<r.length;t++)null!==r[t][1]&&(e[0]+=r[t][0],e[1]+=r[t][1],e[2]+=r[t][0]*r[t][0]*r[t][1],e[3]+=r[t][1]*Math.log(r[t][1]),e[4]+=r[t][0]*r[t][1]*Math.log(r[t][1]),e[5]+=r[t][0]*r[t][1]);var u=e[1]*e[2]-e[5]*e[5],a=Math.exp((e[2]*e[3]-e[5]*e[4])/u),c=(e[1]*e[4]-e[5]*e[3])/u,p=i(a,n.precision),f=i(c,n.precision),s=function(r){return[i(r,n.precision),i(p*Math.exp(f*r),n.precision)]},l=r.map((function(r){return s(r[0])}));return{points:l,predict:s,equation:[p,f],string:"y = "+p+"e^("+f+"x)",r2:i(o(r,l),n.precision)}},logarithmic:function(r,n){for(var e=[0,0,0,0],t=r.length,u=0;u<t;u++)null!==r[u][1]&&(e[0]+=Math.log(r[u][0]),e[1]+=r[u][1]*Math.log(r[u][0]),e[2]+=r[u][1],e[3]+=Math.pow(Math.log(r[u][0]),2));var a=i((t*e[1]-e[2]*e[0])/(t*e[3]-e[0]*e[0]),n.precision),c=i((e[2]-a*e[0])/t,n.precision),p=function(r){return[i(r,n.precision),i(i(c+a*Math.log(r),n.precision),n.precision)]},f=r.map((function(r){return p(r[0])}));return{points:f,predict:p,equation:[c,a],string:"y = "+c+" + "+a+" ln(x)",r2:i(o(r,f),n.precision)}},power:function(r,n){for(var e=[0,0,0,0,0],t=r.length,u=0;u<t;u++)null!==r[u][1]&&(e[0]+=Math.log(r[u][0]),e[1]+=Math.log(r[u][1])*Math.log(r[u][0]),e[2]+=Math.log(r[u][1]),e[3]+=Math.pow(Math.log(r[u][0]),2));var a=(t*e[1]-e[0]*e[2])/(t*e[3]-Math.pow(e[0],2)),c=(e[2]-a*e[0])/t,p=i(Math.exp(c),n.precision),f=i(a,n.precision),s=function(r){return[i(r,n.precision),i(i(p*Math.pow(r,f),n.precision),n.precision)]},l=r.map((function(r){return s(r[0])}));return{points:l,predict:s,equation:[p,f],string:"y = "+p+"x^"+f,r2:i(o(r,l),n.precision)}},polynomial:function(r,n){for(var t=[],u=[],a=0,c=0,p=r.length,f=n.order+1,s=0;s<f;s++){for(var l=0;l<p;l++)null!==r[l][1]&&(a+=Math.pow(r[l][0],s)*r[l][1]);t.push(a),a=0;for(var h=[],v=0;v<f;v++){for(var g=0;g<p;g++)null!==r[g][1]&&(c+=Math.pow(r[g][0],s+v));h.push(c),c=0}u.push(h)}u.push(t);for(var M=function(r,n){for(var e=r,t=r.length-1,o=[n],i=0;i<t;i++){for(var u=i,a=i+1;a<t;a++)Math.abs(e[i][a])>Math.abs(e[i][u])&&(u=a);for(var c=i;c<t+1;c++){var p=e[c][i];e[c][i]=e[c][u],e[c][u]=p}for(var f=i+1;f<t;f++)for(var s=t;s>=i;s--)e[s][f]-=e[s][i]*e[i][f]/e[i][i]}for(var l=t-1;l>=0;l--){for(var h=0,v=l+1;v<t;v++)h+=e[v][l]*o[v];o[l]=(e[t][l]-h)/e[l][l]}return o}(u,f).map((function(r){return i(r,n.precision)})),d=function(r){return[i(r,n.precision),i(M.reduce((function(n,e,t){return n+e*Math.pow(r,t)}),0),n.precision)]},y=r.map((function(r){return d(r[0])})),x="y = ",m=M.length-1;m>=0;m--)x+=m>1?M[m]+"x^"+m+" + ":1===m?M[m]+"x + ":M[m];return{string:x,points:y,predict:d,equation:[].concat(e(M)).reverse(),r2:i(o(r,y),n.precision)}}};r.exports=Object.keys(u).reduce((function(r,e){return n({_round:i},r,(c=function(r,o){return u[e](r,n({},t,o))},(a=e)in(o={})?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,o));var o,a,c}),{})}));
var linear=function(data,options){return(REG.linear(data,options))};
var power=function(data,options){return(REG.power(data,options))};
var exponential=function(data,options){return(REG.exponential(data,options))};
var logarithmic=function(data,options){return(REG.logarithmic(data,options))};
var polynomial=function(data,options){return(REG.polynomial(data,options))};