/* eslint-disable */
/**
 * binance-sdk.js v1.0.3
 */
var e,t;e=this,t=function(){"use strict";function e(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function t(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const n=new class{constructor(){this.callBackHandlers=new Map,this.eventHandlers=new Set,this.uuid=0,this.setup()}setup(){window.__NEZHA_WEB_BRIDGE__={onCallback:e=>{this.receiveCallback(e)},onEvent:e=>{this.receiveEvent(e)}}}getCallbackId(e){const t=this.uuid++;return this.callBackHandlers.set(t,e),t}receiveCallback(e){const{callbackId:t,error:n,payload:o}=e,r=this.callBackHandlers.get(t);r&&(r({error:n,payload:o}),this.callBackHandlers.delete(t))}receiveEvent(e){this.eventHandlers.forEach(t=>{t(e)})}onEvent(e){return this.eventHandlers.add(e),()=>{this.eventHandlers.delete(e)}}clearEventHandlers(){this.eventHandlers.clear()}invoke(e,t={},n){new Promise(n=>{const o=this.getCallbackId(n);window.__NEZHA_BRIDGE__&&window.__NEZHA_BRIDGE__.postAction(JSON.stringify({action:e,payload:t,callbackId:o}))}).then(e=>{n(e)})}},o={debug:!1,clientId:"",ts:"0",nonce:"",signature:""};let r=!1;function s(e){Object.assign(o,e)}function i(){return r}function a(e){r=e}var c;let l;!function(e){e.INIT="init",e.GET_OAUTH_CODE="login",e.SHOW_TOAST="show-toast",e.REQUEST_PAYMENT="request-payment",e.GET_SYSTEM_INFO="get-system-info"}(c||(c={}));const d=e=>{l&&(l.destroy(),l=null),e&&(window.VConsole?l=new window.VConsole:((e,t)=>{const n=document.createElement("script"),o=document.getElementsByTagName("script")[0];n.async=!0,n.src=e,n.onload=t,o&&o.parentNode?o.parentNode.insertBefore(n,o):document.body.appendChild(n)})("https://unpkg.com/vconsole/dist/vconsole.min.js",()=>{l=new window.VConsole}))};function u(e,t={}){return new Promise((r,s)=>{const{debug:i}=o;d(!!i),i&&(console.group(`====== ${new Date} call app "action: ${e}" start ======`),console.log("arguments is:",t),console.groupEnd()),n.invoke(e,t,t=>{""!==t.error&&t.error?s(t):r(t),i&&(console.group(`====== ${new Date} call app "action: ${e}" end ========`),console.log("response is:",t),console.groupEnd())})})}function p(){return(e,t,n)=>{const o=n.value;return n.value=function(...e){if(i())return o.apply(this,e);const n={error:t+":error, sdk is not ready",payload:{}};return Promise.reject(n)},n}}return new((()=>{class o{constructor(){this.eventList=[]}init(e){return s(e),a(!1),new Promise((t,n)=>{u(c.INIT,e).then(e=>{a(!0),t(e),this.eventList.forEach(e=>e()),this.eventList=[]}).catch(e=>{a(!1),n(e),this.eventList=[]})})}setDebug(e){s({debug:e})}ready(e){i()?e():this.eventList.push(e)}onEvent(e){return n.onEvent(e)}clearEvent(){n.clearEventHandlers()}showToast(e){return u(c.SHOW_TOAST,e)}getOAuthCode(e){return u(c.GET_OAUTH_CODE,{state:e.state})}requestPayment(e){return u(c.REQUEST_PAYMENT,e)}getSystemInfo(){return u(c.GET_SYSTEM_INFO)}}return e([p(),t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],o.prototype,"showToast",null),e([p(),t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],o.prototype,"getOAuthCode",null),e([p(),t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],o.prototype,"requestPayment",null),e([p(),t("design:type",Function),t("design:paramtypes",[]),t("design:returntype",void 0)],o.prototype,"getSystemInfo",null),o})())},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).bn=t();
